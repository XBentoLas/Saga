{
  "info": {
    "name": "Sistema SAGA - API Tests (Automated Flow)",
    "description": "Cole√ß√£o de testes automatizados da API REST do Sistema SAGA.\n\n‚ö†Ô∏è IMPORTANTE: Execute em ordem sequencial usando Collection Runner.\n\n‚úÖ Todos os IDs s√£o capturados dinamicamente\n‚úÖ Valida√ß√µes autom√°ticas em cada request\n‚úÖ Falhas param a execu√ß√£o\n‚úÖ Ordem correta de depend√™ncias\n‚úÖ Desvincula√ß√£o antes de dele√ß√£o",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "2.0.0"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5000",
      "type": "string"
    },
    {
      "key": "professor_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "professor2_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "predio_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "horario_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "disciplina_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "curso_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "sala_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "agendamento_id",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1Ô∏è‚É£ Setup - Entidades Base",
      "description": "Cria√ß√£o das entidades sem depend√™ncias",
      "item": [
        {
          "name": "1.1 Criar Professor",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Resposta tem success=true\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Professor criado com ID v√°lido\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data).to.have.property('id');",
                  "    pm.expect(jsonData.data.id).to.be.a('number');",
                  "    pm.collectionVariables.set(\"professor_id\", jsonData.data.id);",
                  "    console.log(\"‚úÖ Professor ID salvo: \" + jsonData.data.id);",
                  "});",
                  "",
                  "pm.test(\"Dados do professor est√£o corretos\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.nome).to.eql(\"Dr. Jo√£o Silva\");",
                  "    pm.expect(jsonData.data.email).to.eql(\"joao.silva@test.com\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"Nome\": \"Dr. Jo√£o Silva\",\n  \"Email\": \"joao.silva@test.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/professores",
              "host": ["{{base_url}}"],
              "path": ["professores"]
            },
            "description": "Cria o primeiro professor para testes"
          }
        },
        {
          "name": "1.2 Criar Professor 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Professor 2 criado com ID v√°lido\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.id).to.be.a('number');",
                  "    pm.collectionVariables.set(\"professor2_id\", jsonData.data.id);",
                  "    console.log(\"‚úÖ Professor 2 ID salvo: \" + jsonData.data.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"Nome\": \"Dra. Maria Santos\",\n  \"Email\": \"maria.santos@test.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/professores",
              "host": ["{{base_url}}"],
              "path": ["professores"]
            },
            "description": "Cria o segundo professor para testes de relacionamentos"
          }
        },
        {
          "name": "1.3 Criar Pr√©dio",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Pr√©dio criado com ID v√°lido\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.id).to.be.a('number');",
                  "    pm.collectionVariables.set(\"predio_id\", jsonData.data.id);",
                  "    console.log(\"‚úÖ Pr√©dio ID salvo: \" + jsonData.data.id);",
                  "});",
                  "",
                  "pm.test(\"Nome do pr√©dio est√° correto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.nome).to.eql(\"Pr√©dio Central\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"Nome\": \"Pr√©dio Central\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/predios",
              "host": ["{{base_url}}"],
              "path": ["predios"]
            },
            "description": "Cria pr√©dio para posterior cria√ß√£o de salas"
          }
        },
        {
          "name": "1.4 Criar Hor√°rio",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Hor√°rio criado com ID v√°lido\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.id).to.be.a('number');",
                  "    pm.collectionVariables.set(\"horario_id\", jsonData.data.id);",
                  "    console.log(\"‚úÖ Hor√°rio ID salvo: \" + jsonData.data.id);",
                  "});",
                  "",
                  "pm.test(\"Dados do hor√°rio est√£o corretos\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.turno).to.eql(\"matutino\");",
                  "    pm.expect(jsonData.data.ordem).to.eql(1);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"turno\": \"matutino\",\n  \"ordem\": 1,\n  \"HoraInicio\": \"07:00\",\n  \"HoraFim\": \"08:40\",\n  \"descricao\": \"Primeiro hor√°rio matutino\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/horarios",
              "host": ["{{base_url}}"],
              "path": ["horarios"]
            },
            "description": "Cria hor√°rio para agendamentos"
          }
        },
        {
          "name": "1.5 Criar Disciplina",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Disciplina criada com ID v√°lido\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.id).to.be.a('number');",
                  "    pm.collectionVariables.set(\"disciplina_id\", jsonData.data.id);",
                  "    console.log(\"‚úÖ Disciplina ID salvo: \" + jsonData.data.id);",
                  "});",
                  "",
                  "pm.test(\"Dados da disciplina est√£o corretos\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.nome).to.eql(\"Algoritmos\");",
                  "    pm.expect(jsonData.data.codigoDisciplina).to.eql(\"CC101\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"Nome\": \"Algoritmos\",\n  \"codigoDisciplina\": \"CC101\",\n  \"semestreOfertado\": \"1\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/disciplinas",
              "host": ["{{base_url}}"],
              "path": ["disciplinas"]
            },
            "description": "Cria disciplina para cursos e agendamentos"
          }
        },
        {
          "name": "1.6 Criar Curso",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Curso criado com ID v√°lido\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.id).to.be.a('number');",
                  "    pm.collectionVariables.set(\"curso_id\", jsonData.data.id);",
                  "    console.log(\"‚úÖ Curso ID salvo: \" + jsonData.data.id);",
                  "});",
                  "",
                  "pm.test(\"Dados do curso est√£o corretos\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.nome).to.eql(\"Ci√™ncia da Computa√ß√£o\");",
                  "    pm.expect(jsonData.data.codigoCurso).to.eql(\"CC001\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"Nome\": \"Ci√™ncia da Computa√ß√£o\",\n  \"codigoCurso\": \"CC001\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/cursos",
              "host": ["{{base_url}}"],
              "path": ["cursos"]
            },
            "description": "Cria curso para vincular disciplinas"
          }
        }
      ]
    },
    {
      "name": "2Ô∏è‚É£ Entidades Dependentes",
      "description": "Cria√ß√£o de entidades que dependem de outras",
      "item": [
        {
          "name": "2.1 Criar Sala (depende de Pr√©dio)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Sala criada com ID v√°lido\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.id).to.be.a('number');",
                  "    pm.collectionVariables.set(\"sala_id\", jsonData.data.id);",
                  "    console.log(\"‚úÖ Sala ID salvo: \" + jsonData.data.id);",
                  "});",
                  "",
                  "pm.test(\"Sala vinculada ao pr√©dio correto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var predioId = pm.collectionVariables.get(\"predio_id\");",
                  "    pm.expect(jsonData.data.predio).to.eql(parseInt(predioId));",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"IdPredio\": {{predio_id}},\n  \"NumeroSala\": \"101\",\n  \"Capacidade\": 40,\n  \"TipoSala\": \"Laborat√≥rio\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/salas",
              "host": ["{{base_url}}"],
              "path": ["salas"]
            },
            "description": "Cria sala vinculada ao pr√©dio criado anteriormente"
          }
        },
        {
          "name": "2.2 Criar Agendamento (depende de Sala, Hor√°rio, Disciplina)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Agendamento criado com ID v√°lido\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.id).to.be.a('number');",
                  "    pm.collectionVariables.set(\"agendamento_id\", jsonData.data.id);",
                  "    console.log(\"‚úÖ Agendamento ID salvo: \" + jsonData.data.id);",
                  "});",
                  "",
                  "pm.test(\"Agendamento com depend√™ncias corretas\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var salaId = pm.collectionVariables.get(\"sala_id\");",
                  "    var horarioId = pm.collectionVariables.get(\"horario_id\");",
                  "    var disciplinaId = pm.collectionVariables.get(\"disciplina_id\");",
                  "    pm.expect(jsonData.data.sala).to.eql(parseInt(salaId));",
                  "    pm.expect(jsonData.data.horario).to.eql(parseInt(horarioId));",
                  "    pm.expect(jsonData.data.disciplina).to.eql(parseInt(disciplinaId));",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"IdSala\": {{sala_id}},\n  \"IdHorario\": {{horario_id}},\n  \"IdDisciplina\": {{disciplina_id}},\n  \"semestreAno\": \"2026/1\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/agendamentos",
              "host": ["{{base_url}}"],
              "path": ["agendamentos"]
            },
            "description": "Cria agendamento com todas as depend√™ncias"
          }
        }
      ]
    },
    {
      "name": "3Ô∏è‚É£ Criar Relacionamentos",
      "description": "Vincula√ß√£o de entidades (many-to-many)",
      "item": [
        {
          "name": "3.1 Adicionar Disciplina ao Curso",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Disciplina adicionada ao curso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Disciplina vinculada ao curso\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"idDisciplina\": {{disciplina_id}}\n}"
            },
            "url": {
              "raw": "{{base_url}}/cursos/{{curso_id}}/disciplinas",
              "host": ["{{base_url}}"],
              "path": ["cursos", "{{curso_id}}", "disciplinas"]
            },
            "description": "Vincula disciplina ao curso"
          }
        },
        {
          "name": "3.2 Adicionar Professor √† Disciplina",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Professor adicionado √† disciplina\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Professor vinculado √† disciplina\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"idProfessor\": {{professor_id}}\n}"
            },
            "url": {
              "raw": "{{base_url}}/disciplinas/{{disciplina_id}}/professores",
              "host": ["{{base_url}}"],
              "path": ["disciplinas", "{{disciplina_id}}", "professores"]
            },
            "description": "Vincula professor √† disciplina"
          }
        },
        {
          "name": "3.3 Adicionar Professor ao Hor√°rio",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Professor adicionado ao hor√°rio\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Professor vinculado ao hor√°rio\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"idProfessor\": {{professor_id}}\n}"
            },
            "url": {
              "raw": "{{base_url}}/horarios/{{horario_id}}/professores",
              "host": ["{{base_url}}"],
              "path": ["horarios", "{{horario_id}}", "professores"]
            },
            "description": "Vincula professor ao hor√°rio"
          }
        },
        {
          "name": "3.4 Adicionar Professor ao Agendamento",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Professor adicionado ao agendamento\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Professor vinculado ao agendamento\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"idProfessor\": {{professor_id}}\n}"
            },
            "url": {
              "raw": "{{base_url}}/agendamentos/{{agendamento_id}}/professores",
              "host": ["{{base_url}}"],
              "path": ["agendamentos", "{{agendamento_id}}", "professores"]
            },
            "description": "Vincula professor ao agendamento"
          }
        }
      ]
    },
    {
      "name": "4Ô∏è‚É£ Testes de Leitura (GET)",
      "description": "Valida√ß√£o de consultas e filtros",
      "item": [
        {
          "name": "4.1 Listar Todos os Professores",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Retorna lista de professores\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "    pm.expect(jsonData.data.length).to.be.at.least(2);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/professores",
              "host": ["{{base_url}}"],
              "path": ["professores"]
            }
          }
        },
        {
          "name": "4.2 Buscar Professor por ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Professor encontrado com dados corretos\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var professorId = pm.collectionVariables.get(\"professor_id\");",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.id).to.eql(parseInt(professorId));",
                  "    pm.expect(jsonData.data.nome).to.eql(\"Dr. Jo√£o Silva\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/professores/{{professor_id}}",
              "host": ["{{base_url}}"],
              "path": ["professores", "{{professor_id}}"]
            }
          }
        },
        {
          "name": "4.3 Buscar Agendamento por ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Agendamento encontrado\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var agendamentoId = pm.collectionVariables.get(\"agendamento_id\");",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.id).to.eql(parseInt(agendamentoId));",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/agendamentos/{{agendamento_id}}",
              "host": ["{{base_url}}"],
              "path": ["agendamentos", "{{agendamento_id}}"]
            }
          }
        },
        {
          "name": "4.4 Listar Professores do Agendamento",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Lista cont√©m pelo menos 1 professor\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "    pm.expect(jsonData.data.length).to.be.at.least(1);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/agendamentos/{{agendamento_id}}/professores",
              "host": ["{{base_url}}"],
              "path": ["agendamentos", "{{agendamento_id}}", "professores"]
            }
          }
        },
        {
          "name": "4.5 Listar Disciplinas do Curso",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Curso cont√©m pelo menos 1 disciplina\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "    pm.expect(jsonData.data.length).to.be.at.least(1);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/cursos/{{curso_id}}/disciplinas",
              "host": ["{{base_url}}"],
              "path": ["cursos", "{{curso_id}}", "disciplinas"]
            }
          }
        },
        {
          "name": "4.6 Listar Professores da Disciplina",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Disciplina tem pelo menos 1 professor\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "    pm.expect(jsonData.data.length).to.be.at.least(1);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/disciplinas/{{disciplina_id}}/professores",
              "host": ["{{base_url}}"],
              "path": ["disciplinas", "{{disciplina_id}}", "professores"]
            }
          }
        },
        {
          "name": "4.7 Filtrar Agendamentos por Semestre",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Retorna agendamentos do semestre correto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "    if (jsonData.data.length > 0) {",
                  "        pm.expect(jsonData.data[0].semestreAno).to.eql(\"2026/1\");",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/agendamentos?semestreAno=2026/1",
              "host": ["{{base_url}}"],
              "path": ["agendamentos"],
              "query": [
                {
                  "key": "semestreAno",
                  "value": "2026/1"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "5Ô∏è‚É£ Testes de Atualiza√ß√£o (PUT)",
      "description": "Valida√ß√£o de updates",
      "item": [
        {
          "name": "5.1 Atualizar Professor",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Professor atualizado com sucesso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.nome).to.eql(\"Dr. Jo√£o Silva Santos\");",
                  "    console.log(\"‚úÖ Professor atualizado\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"Nome\": \"Dr. Jo√£o Silva Santos\",\n  \"Email\": \"joao.silva@test.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/professores/{{professor_id}}",
              "host": ["{{base_url}}"],
              "path": ["professores", "{{professor_id}}"]
            }
          }
        },
        {
          "name": "5.2 Atualizar Sala",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Sala atualizada com sucesso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.capacidade).to.eql(50);",
                  "    console.log(\"‚úÖ Sala atualizada\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"IdPredio\": {{predio_id}},\n  \"NumeroSala\": \"101A\",\n  \"Capacidade\": 50,\n  \"TipoSala\": \"Laborat√≥rio de Inform√°tica\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/salas/{{sala_id}}",
              "host": ["{{base_url}}"],
              "path": ["salas", "{{sala_id}}"]
            }
          }
        },
        {
          "name": "5.3 Atualizar Agendamento",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Agendamento atualizado com sucesso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.semestreAno).to.eql(\"2026/2\");",
                  "    console.log(\"‚úÖ Agendamento atualizado\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"IdSala\": {{sala_id}},\n  \"IdHorario\": {{horario_id}},\n  \"IdDisciplina\": {{disciplina_id}},\n  \"semestreAno\": \"2026/2\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/agendamentos/{{agendamento_id}}",
              "host": ["{{base_url}}"],
              "path": ["agendamentos", "{{agendamento_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "6Ô∏è‚É£ Remover Relacionamentos",
      "description": "Desvincula√ß√£o antes de deletar",
      "item": [
        {
          "name": "6.1 Remover Professor do Agendamento",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Professor removido do agendamento\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Professor desvinculado do agendamento\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/agendamentos/{{agendamento_id}}/professores/{{professor_id}}",
              "host": ["{{base_url}}"],
              "path": ["agendamentos", "{{agendamento_id}}", "professores", "{{professor_id}}"]
            }
          }
        },
        {
          "name": "6.2 Remover Professor da Disciplina",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Professor removido da disciplina\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Professor desvinculado da disciplina\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/disciplinas/{{disciplina_id}}/professores/{{professor_id}}",
              "host": ["{{base_url}}"],
              "path": ["disciplinas", "{{disciplina_id}}", "professores", "{{professor_id}}"]
            }
          }
        },
        {
          "name": "6.3 Remover Professor do Hor√°rio",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Professor removido do hor√°rio\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Professor desvinculado do hor√°rio\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/horarios/{{horario_id}}/professores/{{professor_id}}",
              "host": ["{{base_url}}"],
              "path": ["horarios", "{{horario_id}}", "professores", "{{professor_id}}"]
            }
          }
        },
        {
          "name": "6.4 Remover Disciplina do Curso",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Disciplina removida do curso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Disciplina desvinculada do curso\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/cursos/{{curso_id}}/disciplinas/{{disciplina_id}}",
              "host": ["{{base_url}}"],
              "path": ["cursos", "{{curso_id}}", "disciplinas", "{{disciplina_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "7Ô∏è‚É£ Cleanup - Dele√ß√£o",
      "description": "Remo√ß√£o das entidades na ordem inversa de cria√ß√£o",
      "item": [
        {
          "name": "7.1 Deletar Agendamento",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Agendamento deletado com sucesso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Agendamento deletado\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/agendamentos/{{agendamento_id}}",
              "host": ["{{base_url}}"],
              "path": ["agendamentos", "{{agendamento_id}}"]
            }
          }
        },
        {
          "name": "7.2 Deletar Sala",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Sala deletada com sucesso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Sala deletada\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/salas/{{sala_id}}",
              "host": ["{{base_url}}"],
              "path": ["salas", "{{sala_id}}"]
            }
          }
        },
        {
          "name": "7.3 Deletar Curso",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Curso deletado com sucesso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Curso deletado\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/cursos/{{curso_id}}",
              "host": ["{{base_url}}"],
              "path": ["cursos", "{{curso_id}}"]
            }
          }
        },
        {
          "name": "7.4 Deletar Disciplina",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Disciplina deletada com sucesso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Disciplina deletada\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/disciplinas/{{disciplina_id}}",
              "host": ["{{base_url}}"],
              "path": ["disciplinas", "{{disciplina_id}}"]
            }
          }
        },
        {
          "name": "7.5 Deletar Hor√°rio",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Hor√°rio deletado com sucesso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Hor√°rio deletado\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/horarios/{{horario_id}}",
              "host": ["{{base_url}}"],
              "path": ["horarios", "{{horario_id}}"]
            }
          }
        },
        {
          "name": "7.6 Deletar Pr√©dio",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Pr√©dio deletado com sucesso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Pr√©dio deletado\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/predios/{{predio_id}}",
              "host": ["{{base_url}}"],
              "path": ["predios", "{{predio_id}}"]
            }
          }
        },
        {
          "name": "7.7 Deletar Professor 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Professor deletado com sucesso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Professor 1 deletado\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/professores/{{professor_id}}",
              "host": ["{{base_url}}"],
              "path": ["professores", "{{professor_id}}"]
            }
          }
        },
        {
          "name": "7.8 Deletar Professor 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Professor 2 deletado com sucesso\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    console.log(\"‚úÖ Professor 2 deletado\");",
                  "    console.log(\"\\nüéâ TODOS OS TESTES CONCLU√çDOS COM SUCESSO!\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/professores/{{professor2_id}}",
              "host": ["{{base_url}}"],
              "path": ["professores", "{{professor2_id}}"]
            }
          }
        }
      ]
    }
  ]
}